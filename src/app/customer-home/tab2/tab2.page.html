<!-- <ion-header>
  <ion-toolbar>
    <ion-title>
      Tab Two
    </ion-title>
  </ion-toolbar>
</ion-header> -->


<ion-header>
  <ion-toolbar>
    <ion-title>
      Explore ads on Map
    </ion-title>
  </ion-toolbar>
</ion-header>

<!-- <ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>
      Browse ads on Map
    </ion-title>
  </ion-toolbar>
</ion-header>
 -->

<ion-content>
  <!-- <ion-label>MAPPA TAB 2</ion-label> -->
  <!-- [style.height.px]="height" -->
  <agm-map #gm id="gm"
  [latitude]="start.lat" 
  [longitude]="start.long" 
  [mapTypeControl]="true"
  [zoom]="zoom"
  [minZoom]=1
  [fitBounds]="true" >
  <agm-marker *ngFor="let m of markersInfo; let i = index"
  [latitude]="m?.lat"
  [longitude]="m?.long"
  (click)="onMouseClick(infoWindow,gm)"
  [agmFitBounds]="true">

<agm-info-window [disableAutoPan]="false" #infoWindow >

<div [routerLink]="['../view-ad']" routerDirection="back" [queryParams]="{idAd:m.idAd}">
<h4 style="margin-top: 0px;"><u>{{m?.title}}</u></h4>
</div>
<div>
  <p style="font-size: medium;">{{m?.description}}</p>
  <p>{{m?.address}}</p>
  <p>EUR {{prettyPrice(m?.sellPrice)}}</p>
</div>

</agm-info-window>


</agm-marker>
  </agm-map>
</ion-content>
